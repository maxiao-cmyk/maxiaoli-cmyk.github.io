import{f as i}from"./consult.95ebbc64.js";import{s as u}from"./user.dfe0b079.js";import{r as t,j as f}from"./index.704bf49d.js";import{s as c}from"./request.3cade431.js";const p=(r="doc")=>{const l=t(!1);return{follow:async e=>{l.value=!0;try{await i(e.id,r),e.likeFlag=e.likeFlag===1?0:1}finally{l.value=!1}},loading:l}},g=(r,l="login")=>{const a=t(0),e=t();let o;const n=async()=>{var s;a.value>0||(await((s=e.value)==null?void 0:s.validate("mobile")),await u(r.value,l),c("\u53D1\u9001\u6210\u529F"),a.value=60,o&&clearInterval(o),o=setInterval(()=>{a.value--,a.value<=0&&clearInterval(o)},1e3))};return f(()=>{clearInterval(o)}),{time:a,form:e,sendCode:n}};export{p as a,g as u};
